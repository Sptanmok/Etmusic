<!DOCTYPE html>
<html>
<head>
<style>
parent {
position: relative;
}
child1, .child2 {
position: absolute;
top: 0;
left: 0;
}
        .shaking-text {
        }
        
        .char {
            display: inline-block;
        }
        
        .shaking-text .char {
            animation: shake 0.5s infinite alternate;
        }
        
        @keyframes shake {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(-2px, -2px) rotate(-2deg);
            }
            50% {
                transform: translate(2px, 2px) rotate(2deg);
            }
            75% {
                transform: translate(-2px, 1px) rotate(-1deg);
            }
            100% {
                transform: translate(1px, -1px) rotate(1deg);
            }
        }
        
        .controls {
            position: absolute;
            bottom: 20px;
            text-align: center;
            color: #fff;
        }
        
        button {
            background: #e94560;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #b03050;
        }
</style>
<meta charset="utf-8">
<title>demo</title>
</head>
<body>
    <div class="jumbotron">
      <div class="parent">
        <h1 class="shaking-text" type="text" id="lyric"></h1>
      </div>
      <p type="text" id="pairlyric"></p>
      <br />
      <audio id="audio" src="Fra-Lippo-Lippi-Shouldnt-Have-To-Be-Like-That.mp3" controls style="width:100%"></audio>
    </div>
    <script>
       fetch('./fdhhdh.json')
        .then(response => response.json())
        .then(jsonlyrics => {
        console.log(jsonlyrics);
         audio.ontimeupdate=function(e) {
         for(i1=0;i1<jsonlyrics.lyrics.length;i1++) {
         	  if (audio.currentTime >= jsonlyrics.lyrics[i1].time) {
       	 	  lyric.innerHTML=jsonlyrics.lyrics[i1].text;
       		  pairlyric.innerHTML=jsonlyrics.lyrics[i1].pairlyric;
       		  splitText
       	  }
            }
         }
        })
        .catch(error => {
        console.error('加载失败:', error);
        jsonlyrics;
        });
        
        const shakingText = document.getElementById('lyric');
        const originalText = shakingText.textContent;
        function splitText() {
            shakingText.innerHTML = originalText
                .split('')
                .map(char => {
                    if (char === ' ') {
                        return '<span class="char">&nbsp;</span>';
                    }
                    return `<span class="char">${char}</span>`;
                })
                .join('');
            
            const chars = shakingText.querySelectorAll('.char');
            chars.forEach((char, index) => {
                char.style.animationDelay = `${index * 0.05}s`;
            });
        }
        splitText();
        function toggleShake() {
            const chars = shakingText.querySelectorAll('.char');
            const isPaused = chars[0].style.animationPlayState === 'paused';
            
            chars.forEach(char => {
                char.style.animationPlayState = isPaused ? 'running' : 'paused';
            });
        }
        
        shakingText.addEventListener('mouseenter', () => {
            const chars = shakingText.querySelectorAll('.char');
            chars.forEach(char => {
                char.style.animationDuration = '0.2s';
            });
        });
        
        shakingText.addEventListener('mouseleave', () => {
            const chars = shakingText.querySelectorAll('.char');
            chars.forEach(char => {
                char.style.animationDuration = '0.5s';
            });
        });
    </script>
</body>
</html>
